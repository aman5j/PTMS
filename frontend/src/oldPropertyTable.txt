import * as React from "react";
import {
  Table,
  TableBody,
  TableCell,
  TableContainer,
  TableHead,
  TableRow,
  Paper,
  Typography,
} from "@mui/material";
import { getData } from "../services/FetchNodeServices";
import { useState, useEffect } from "react";


export default function AddPropertyTable({
  floorNo,
  floorUsage,
  floorRentType,
  floorConstructionType,
  floorArea,
}) {

//     const floors = [
//   {
//     floorNo: 1,
//     floorUsage: "Residential",
//     floorRentType: "Self",
//     floorConstructionType: "RCC/RBC",
//     floorArea: 500,
//   },
//   {
//     floorNo: 2,
//     floorUsage: "Non-Residential",
//     floorRentType: "Rented",
//     floorConstructionType: "Kaccha",
//     floorArea: 300,
//   },
// ];


// For quick lookups, define header columns:
  const usageTypes = ["Residential", "Non-Residential"];
  const rentTypes = ["Self", "Rented"];
  const constructionTypes = [
    "RCC/RBC",
    "Kaccha",
    "Pakka",
    "Under Construction",
    "Empty",
  ];

  const [detail, setDetail] = useState([]);

  // Get Users Data
  const fetchFloorDetails = async () => {
    var result = await getData("floordetails/fetch_floordetails");
    console.log("In Property Table Data : ", result.data);

    setDetail(result.data);
    // console.log("in detail variable have data: ", detail);
  };

  useEffect(function () {
    fetchFloorDetails();
  }, []);

  return (
    <TableContainer component={Paper} sx={{ mt: 2 }}>
      <Typography variant="h6" align="center" sx={{ my: 2 }}>
        Floor Wise Details/तल अनुसार विवरण
      </Typography>
      <Table>
        <TableHead>
          {/* --- Row 1 --- */}
          <TableRow>
            <TableCell rowSpan={4} align="center">
              S.No./Actions
            </TableCell>
            <TableCell rowSpan={4} align="center">
              Floor
            </TableCell>
            <TableCell rowSpan={4} align="center">
              Usage
            </TableCell>

            <TableCell align="center" colSpan={10}>
              Residential
            </TableCell>
            <TableCell align="center" colSpan={18}>
              Non Residential
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Under Construction
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Vacant
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Covered Area
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Total RI Area
            </TableCell>
          </TableRow>
          {/* --- Row 2 --- */}
          <TableRow>
            {/* RESIDENTIAL */}
            <TableCell align="center" colSpan={2}>
              RCC/RBC
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Asbestos or Corrugated
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Kachha
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Vacant Land/Demolished
            </TableCell>
            <TableCell rowSpan={3} align="center">
              Category
            </TableCell>
            <TableCell rowSpan={3} align="center">
              Sub-Category
            </TableCell>

            {/* NON RESIDENTIAL */}
            <TableCell align="center" colSpan={2}>
              RCC/RBC
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Asbestos or Corrugated
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Kachha
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Vacant Land/Demolished
            </TableCell>
            <TableCell rowSpan={3} align="center">
              Category
            </TableCell>
            <TableCell rowSpan={3} align="center">
              Sub-Category
            </TableCell>
            {/* For future columns if needed fill below */}
            <TableCell align="center" colSpan={2}>
              RCC/RBC
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Asbestos or Corrugated
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Kachha
            </TableCell>
            <TableCell align="center" colSpan={2}>
              Vacant Land/Demolished
            </TableCell>

            {/* Under Construction, Vacant, Covered Area, Total RI Area */}
            <TableCell rowSpan={2} align="center">
              Self
            </TableCell>
            <TableCell rowSpan={2} align="center">
              Rent
            </TableCell>
            <TableCell rowSpan={2} align="center">
              Self
            </TableCell>
            <TableCell rowSpan={2} align="center">
              Rent
            </TableCell>
            <TableCell rowSpan={2} align="center">
              Self
            </TableCell>
            <TableCell rowSpan={2} align="center">
              Rent
            </TableCell>
            <TableCell rowSpan={2} align="center">
              Self
            </TableCell>
            <TableCell rowSpan={2} align="center">
              Rent
            </TableCell>
          </TableRow>
          {/* --- Row 3 --- */}
          <TableRow>
            {/* RESIDENTIAL */}
            <TableCell align="center">Self</TableCell>
            <TableCell align="center">Rent</TableCell>
            <TableCell align="center">Self</TableCell>
            <TableCell align="center">Rent</TableCell>
            <TableCell align="center">Self</TableCell>
            <TableCell align="center">Rent</TableCell>
            <TableCell align="center">Self</TableCell>
            <TableCell align="center">Rent</TableCell>

            {/* NON RESIDENTIAL */}
            <TableCell align="center">Self</TableCell>
            <TableCell align="center">Rent</TableCell>
            <TableCell align="center">Self</TableCell>
            <TableCell align="center">Rent</TableCell>
            <TableCell align="center">Self</TableCell>
            <TableCell align="center">Rent</TableCell>
            <TableCell align="center">Self</TableCell>
            <TableCell align="center">Rent</TableCell>

            {/* --- Repeated for extra columns as per column structure */}
            <TableCell align="center">Self</TableCell>
            <TableCell align="center">Rent</TableCell>
            <TableCell align="center">Self</TableCell>
            <TableCell align="center">Rent</TableCell>
            <TableCell align="center">Self</TableCell>
            <TableCell align="center">Rent</TableCell>
            <TableCell align="center">Self</TableCell>
            <TableCell align="center">Rent</TableCell>
            {/* Under Construction, Vacant, Covered Area, Total RI Area
                already covered by rowSpan=2 in previous row */}
          </TableRow>
        </TableHead>
        
        <TableBody>
          {/* Table rows go here. For demonstration, we're using one empty row. */}
          <TableRow>
            <TableCell align="center">1</TableCell>
            <TableCell align="center">Ground</TableCell>
            <TableCell align="center">Residential</TableCell>
            {/* Insert data cells for each column, as per above header structure */}
            {Array.from({ length: 28 }).map((_, idx) => (
              <TableCell align="center" key={idx}></TableCell>
            ))}
          </TableRow>
          {/* If no data */}
          {/* <TableRow>
            <TableCell colSpan={31} align="center">
              No available options
            </TableCell>
          </TableRow> */}
          {/* Totals row */}
          <TableRow>
            <TableCell colSpan={3} align="right">
              <b>Total Self:</b> 0
            </TableCell>
            <TableCell colSpan={27} align="right">
              <b>Total Rent:</b> 0
            </TableCell>
          </TableRow>
        </TableBody>
      </Table>
    </TableContainer>
  );
}
